
cc_library(
    name = 'headers',
    visibility = ['//visibility:public'],
    hdrs = [
        'driver.h',
        'driverextras.h',
    ],
    includes = ['.'],
    copts = [
        '-DHAVE_CONFIG_H',
    ],
)

cc_library(
    name = 'libodbcmini',
    visibility = ['//visibility:public'],
    srcs = [
        'SQLAllocConnect.c',
        'SQLAllocEnv.c',
        'SQLAllocHandle.c',
        'SQLAllocStmt.c',
        'SQLBindCol.c',
        'SQLBindParameter.c',
        'SQLBrowseConnect.c',
        'SQLBulkOperations.c',
        'SQLCancel.c',
        'SQLCloseCursor.c',
        'SQLColAttribute.c',
        'SQLColAttributes.c',
        'SQLColumnPrivileges.c',
        'SQLColumns.c',
        'SQLConnect.c',
        'SQLCopyDesc.c',
        'SQLDescribeCol.c',
        'SQLDescribeParam.c',
        'SQLDisconnect.c',
        'SQLDriverConnect.c',
        'SQLEndTran.c',
        'SQLError.c',
        'SQLExecDirect.c',
        'SQLExecute.c',
        'SQLExtendedFetch.c',
        'SQLFetch.c',
        'SQLFetchScroll.c',
        'SQLForeignKeys.c',
        'SQLFreeConnect.c',
        'SQLFreeEnv.c',
        'SQLFreeHandle.c',
        'SQLFreeStmt.c',
        'SQLGetConnectAttr.c',
        'SQLGetConnectOption.c',
        'SQLGetCursorName.c',
        'SQLGetData.c',
        'SQLGetDescField.c',
        'SQLGetDescRec.c',
        'SQLGetDiagField.c',
        'SQLGetDiagRec.c',
        'SQLGetEnvAttr.c',
        'SQLGetInfo.c',
        'SQLGetStmtAttr.c',
        'SQLGetStmtOption.c',
        'SQLGetTypeInfo.c',
        'SQLMoreResults.c',
        'SQLNativeSql.c',
        'SQLNumParams.c',
        'SQLNumResultCols.c',
        'SQLParamData.c',
        'SQLParamOptions.c',
        'SQLPrepare.c',
        'SQLPrimaryKeys.c',
        'SQLProcedureColumns.c',
        'SQLProcedures.c',
        'SQLPutData.c',
        'SQLRowCount.c',
        'SQLSetConnectOption.c',
        'SQLSetCursorName.c',
        'SQLSetDescField.c',
        'SQLSetDescRec.c',
        'SQLSetEnvAttr.c',
        'SQLSetParam.c',
        'SQLSetPos.c',
        'SQLSetScrollOptions.c',
        'SQLSetStmtAttr.c',
        'SQLSetStmtOption.c',
        'SQLSpecialColumns.c',
        'SQLStatistics.c',
        'SQLTablePrivileges.c',
        'SQLTables.c',
        'SQLTransact.c',
        '_AllocConnect.c',
        '_AllocEnv.c',
        '_AllocStmt.c',
        '_Execute.c',
        '_FreeDbc.c',
        '_FreeStmt.c',
        '_FreeDbcList.c',
        '_FreeStmtList.c',
        '_FreeResults.c',
        '_GetData.c',
        '_NativeToSQLColumnHeader.c',
        '_NativeToSQLType.c',
        '_NativeTypeDesc.c',
        '_NativeTypeLength.c',
        '_NativeTypePrecision.c',
        '_Prepare.c',
        '_sqlFreeConnect.c',
        '_sqlFreeEnv.c',
        '_sqlFreeStmt.c',
    ],
    copts = [
        '-DHAVE_CONFIG_H',
    ],
    deps = [
        '//:headers',
        ':headers',
    ],
    # TODO(bd) use bazel platform to determine if MiniSQL is available
    # on the system
    tags = ['manual'],
)
